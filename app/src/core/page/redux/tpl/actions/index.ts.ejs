import Store from '@/redux/store';
import {Command} from '../constant';
import {Dispatch} from "@/typings";

<% pageInfo.actions.forEach(action=>{ %>
import <%=Util.toUCamelize(action.fileName) %> from './<%=action.fileName%>'
<% }) %>

export default (dispatch:Dispatch) => {
  const actions = {

    async commonChange(paths:(string|number)[]|string,value:any) {
      if( typeof paths ==='string') {
        paths = paths.split(",")
      }
      dispatch({ type: Command.commonChange, payload: {paths,value} });
    },

    <% pageInfo.actions.forEach(action=>{ %>
        <%=Util.toLCamelize(action.fileName) %> :<%=Util.toUCamelize(action.fileName) %> (dispatch),
    <% }) %>
    /**
     * 初始化数据
     */
    async init() {
      dispatch({type: Command.init,payload:{
            <% pageInfo.actors.forEach(actor=>{ %>
                         //<%=Util.toLCamelize(actor.fileName)%>  :{},
              <% }) %>
      }});
    },

    /**
     * 重置
     */
    async clean() {
      dispatch({type: Command.clean});
    },
  };

  return {actions};
};
